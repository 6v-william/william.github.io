"use strict";(self.webpackChunkpc_template=self.webpackChunkpc_template||[]).push([[9512],{17569:function(ye,$,r){r.r($),r.d($,{default:function(){return pe}});var J=r(54306),A=r.n(J),i=r(79685),R=r(74906),M=r(76158),H=r(84918),G=r(1285),N=r(47640),B=function(s){return s>=1e9?(s/1e9).toFixed(1)+"B":s>=1e6?(s/1e6).toFixed(1)+"M":s>=1e3?(s/1e3).toFixed(1)+"K":s.toString()},e=r(63342),Q=function(s){var u=s.isLoading,m=s.onSelect,j=(0,i.useState)([]),S=A()(j,2),t=S[0],y=S[1],g=(0,i.useState)(null),v=A()(g,2),C=v[0],l=v[1],o=(0,i.useRef)(null);(0,i.useEffect)(function(){var a=new WebSocket("wss://stream.binance.com:9443/ws/!ticker@arr");return o.current=a,a.onmessage=function(n){try{var d=JSON.parse(n.data),p=d.filter(function(c){return c.s.endsWith("USDT")}).sort(function(c,b){return parseFloat(b.q)-parseFloat(c.q)});y(p)}catch(c){console.error("Error parsing Binance data:",c),l("\u6570\u636E\u89E3\u6790\u9519\u8BEF")}},a.onerror=function(n){console.error("WebSocket error:",n),l("\u8FDE\u63A5\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5")},a.onclose=function(){console.log("WebSocket connection closed")},function(){o.current&&o.current.close()}},[]);var x=[{title:"\u6392\u540D",dataIndex:"rank",key:"rank",width:80,render:function(n,d,p){return p+1},style:{textAlign:"center",fontWeight:"bold",backgroundColor:"#f5f5f5"}},{title:"\u540D\u79F0",dataIndex:"s",key:"name",render:function(n){return(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:4},children:[(0,e.jsx)("div",{children:(0,e.jsx)("span",{children:n.replace("USDT","")})}),(0,e.jsx)("p",{children:"USDT"})]})},style:{paddingLeft:"10px"}},{title:"\u4EF7\u683C",dataIndex:"c",key:"price",render:function(n){return"$".concat(parseFloat(n).toFixed(2))},style:{textAlign:"center"}},{title:"24h\u53D8\u5316",dataIndex:"P",key:"change",render:function(n){var d=parseFloat(n)>=0;return(0,e.jsxs)(H.Z,{color:d?"green":"red",children:[parseFloat(n).toFixed(2),"%"]})},style:{textAlign:"center"}},{title:"\u5E02\u503C",dataIndex:"q",key:"market_cap",render:function(n){return"$".concat(B(parseFloat(n)))},style:{textAlign:"center"}},{title:"24\u5C0F\u65F6\u4EA4\u6613\u91CF",dataIndex:"Q",key:"total_volume",render:function(n){return B(parseFloat(n))},style:{textAlign:"center"}},{title:"\u64CD\u4F5C",key:"action",render:function(n,d){return(0,e.jsx)(G.ZP,{type:"primary",onClick:function(){return m(d.s)},style:{backgroundColor:"#007bff",border:"none",borderRadius:"4px",padding:"6px 12px"},children:"\u8BE6\u60C5"})},style:{textAlign:"center"}}];return(0,e.jsx)(N.Z,{style:{flex:1,borderRadius:"8px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.1)",overflow:"auto",backgroundColor:"#fff",maxWidth:1e3,height:"calc(100vh - 190px)"},dataSource:t,columns:x,rowKey:"s",pagination:!1,bordered:!1,tableLayout:"fixed",loading:u||!t.length,locale:{emptyText:C||"\u52A0\u8F7D\u4E2D..."}})},V=Q,X=r(93525),I=r.n(X),Y=r(25359),O=r.n(Y),q=r(49811),_=r.n(q),K=r(16459),ee=r(49013),te=r.n(ee),re=r(48068),ne=r.n(re),oe=function(s){var u=s.coinSymbol,m=s.isLoading,j=(0,i.useState)([]),S=A()(j,2),t=S[0],y=S[1],g=(0,i.useRef)(null),v=(0,i.useRef)(null),C=(0,i.useRef)(0),l=(0,i.useRef)(!1),o=function(){var c=new Date;return c.setHours(0,0,0,0),c.getTime()},x=function(){var p=_()(O()().mark(function c(b){var h,E,Z,z,F;return O()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,h=o(),E=Date.now(),f.next=5,fetch("https://api.binance.com/api/v3/klines?symbol=".concat(b,"&interval=1m&startTime=").concat(h,"&endTime=").concat(E));case 5:if(Z=f.sent,Z.ok){f.next=8;break}throw new Error("Failed to fetch kline data");case 8:return f.next=10,Z.json();case 10:z=f.sent,F=z.map(function(D){return[D[0],parseFloat(D[1]),parseFloat(D[2]),parseFloat(D[3]),parseFloat(D[4])]}),y(F),f.next=18;break;case 15:f.prev=15,f.t0=f.catch(0),console.error("Error fetching kline data:",f.t0);case 18:case"end":return f.stop()}},c,null,[[0,15]])}));return function(b){return p.apply(this,arguments)}}();(0,i.useEffect)(function(){if(u){x(u);var p=new WebSocket("wss://stream.binance.com:9443/ws/".concat(u.toLowerCase(),"@kline_2m"));return v.current=p,p.onmessage=function(c){try{var b=JSON.parse(c.data),h=b.k,E=parseInt(h.t),Z=o();if(E>=Z){var z=Date.now();if(z-C.current<5e3)return;if(C.current=z,t.length>0){var F=I()(t),P=F.length-1;if(F[P][0]===E?F[P]=[E,parseFloat(h.o),parseFloat(h.h),parseFloat(h.l),parseFloat(h.c)]:(F.push([E,parseFloat(h.o),parseFloat(h.h),parseFloat(h.l),parseFloat(h.c)]),F.length>720&&F.shift()),y(F),!l.current&&F.length>=10&&(l.current=!0,g.current&&g.current.chart)){var f=g.current.chart,D=f.xAxis[0],W=F.slice(-10),he=W[0][0],ge=W[W.length-1][0];D.setExtremes(he,ge,!1),f.redraw()}}}}catch(ve){console.error("Error parsing kline data:",ve)}},function(){v.current&&v.current.close()}}},[u]);var a=function(c){if(g.current=c,t.length>=10){l.current=!0;var b=c.xAxis[0],h=t.slice(-10),E=h[0][0],Z=h[h.length-1][0];b.setExtremes(E,Z,!1),c.redraw()}},n=function(c){var b=new Date(c);return b.toLocaleTimeString()},d={chart:{type:"candlestick",height:400,zoomType:"x",events:{load:function(){a(this)}}},title:void 0,xAxis:{type:"datetime",labels:{formatter:function(){return n(this.value)}},title:{text:"\u65F6\u95F4\uFF08\u5206\u949F\uFF09"},tickInterval:2*60*1e3},yAxis:{title:{text:"\u4EF7\u683C (USD)"}},rangeSelector:{buttons:[{type:"hour",count:1,text:"1H"},{type:"hour",count:6,text:"6H"},{type:"hour",count:12,text:"12H"},{type:"day",count:1,text:"24H"}],selected:3,inputEnabled:!1},scrollbar:{enabled:!0},plotOptions:{candlestick:{color:"#F56C6C",lineColor:"#F56C6C",upColor:"#67C23A",upLineColor:"#67C23A"}},tooltip:{shared:!0,useHTML:!0,headerFormat:"<small>{point.key}</small><table>",pointFormat:'<tr><td style="color: {series.color}">open: </td><td style="text-align: right"><b>${point.open:.2f}</b></td></tr><tr><td style="color: {series.color}">high: </td><td style="text-align: right"><b>${point.high:.2f}</b></td></tr><tr><td style="color: {series.color}">low: </td><td style="text-align: right"><b>${point.low:.2f}</b></td></tr><tr><td style="color: {series.color}">close: </td><td style="text-align: right"><b>${point.close:.2f}</b></td></tr>',footerFormat:"</table>",valueDecimals:2},series:[{name:"".concat(u),type:"candlestick",data:t}]};return(0,e.jsx)(K.Z,{title:(0,e.jsxs)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#333",marginBottom:"10px"},children:[u," \u5B9E\u65F6\u6570\u636E"]}),style:{borderRadius:"8px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.1)",paddingTop:"20px",backgroundColor:"#fff"},children:(0,e.jsx)("div",{style:{position:"relative",width:"100%",height:"400px"},children:t.length>0?(0,e.jsx)(ne(),{highcharts:te(),options:d,ref:g,style:{width:"100%",height:"100%"}}):m?(0,e.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:"16px",color:"#666"},children:"\u52A0\u8F7D\u56FE\u8868\u6570\u636E..."}):(0,e.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:"16px",color:"#666"},children:"\u65E0\u4ECA\u65E5\u6570\u636E"})})})},ae=oe,U=r(34510),k=r(78491),w=r(3129),T=r(76225),ie=function(s){var u=s.coinSymbol,m=s.isLoading,j=(0,i.useState)(null),S=A()(j,2),t=S[0],y=S[1],g=(0,i.useState)(null),v=A()(g,2),C=v[0],l=v[1],o=(0,i.useRef)(null);(0,i.useEffect)(function(){if(u){var a=new WebSocket("wss://stream.binance.com:9443/ws/".concat(u.toLowerCase(),"@ticker"));return o.current=a,a.onmessage=function(n){try{var d=JSON.parse(n.data);y({symbol:d.s,price:parseFloat(d.c),priceChange24h:parseFloat(d.P),volume24h:parseFloat(d.q),high24h:parseFloat(d.h),low24h:parseFloat(d.l),bidPrice:parseFloat(d.b),askPrice:parseFloat(d.a),openPrice:parseFloat(d.o)})}catch(p){console.error("Error parsing Binance data:",p),l("\u6570\u636E\u89E3\u6790\u9519\u8BEF")}},a.onerror=function(n){console.error("WebSocket error:",n),l("\u8FDE\u63A5\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5")},a.onclose=function(){console.log("WebSocket connection closed")},function(){o.current&&o.current.close()}}},[u]);var x=function(){return t?(t.price-t.openPrice)/t.openPrice*100:0};return(0,e.jsx)(K.Z,{style:{borderRadius:"8px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.1)",padding:"20px",backgroundColor:"#fff"},children:m||!t?(0,e.jsx)(U.Z,{active:!0,paragraph:{rows:4},style:{borderRadius:"8px"}}):C?(0,e.jsx)("div",{style:{color:"#cf1322",fontSize:"16px"},children:C}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(k.Z,{gutter:16,children:[(0,e.jsx)(w.Z,{span:12,children:(0,e.jsx)(T.Z,{title:"\u5F53\u524D\u4EF7\u683C",value:t.price,precision:2,valueStyle:{color:"#3f8600",fontSize:"18px"},prefix:"$",style:{fontSize:"16px"}})}),(0,e.jsx)(w.Z,{span:12,children:(0,e.jsx)(T.Z,{title:"24h\u53D8\u5316",value:t.priceChange24h,precision:2,valueStyle:{color:t.priceChange24h>=0?"#3f8600":"#cf1322",fontSize:"18px"},suffix:"%",style:{fontSize:"16px"}})})]}),(0,e.jsxs)(k.Z,{gutter:16,style:{marginTop:"16px"},children:[(0,e.jsx)(w.Z,{span:12,children:(0,e.jsx)(T.Z,{title:"\u5F00\u76D8\u4EF7",value:t.openPrice,precision:2,prefix:"$",valueStyle:{fontSize:"18px"},style:{fontSize:"16px"}})}),(0,e.jsx)(w.Z,{span:12,children:(0,e.jsx)(T.Z,{title:"24h\u53D8\u5316\u7387",value:x(),precision:2,valueStyle:{color:x()>=0?"#3f8600":"#cf1322",fontSize:"18px"},suffix:"%",style:{fontSize:"16px"}})})]}),(0,e.jsxs)(k.Z,{gutter:16,style:{marginTop:"16px"},children:[(0,e.jsx)(w.Z,{span:12,children:(0,e.jsx)(T.Z,{title:"24h\u4EA4\u6613\u91CF",value:t.volume24h,formatter:function(n){return"$".concat(B(n))},valueStyle:{fontSize:"18px"},style:{fontSize:"16px"}})}),(0,e.jsx)(w.Z,{span:12,children:(0,e.jsx)(T.Z,{title:"\u4E70\u4EF7",value:t.bidPrice,precision:2,prefix:"$",valueStyle:{fontSize:"18px"},style:{fontSize:"16px"}})})]}),(0,e.jsxs)(k.Z,{gutter:16,style:{marginTop:"16px"},children:[(0,e.jsx)(w.Z,{span:12,children:(0,e.jsx)(T.Z,{title:"\u5356\u4EF7",value:t.askPrice,precision:2,prefix:"$",valueStyle:{fontSize:"18px"},style:{fontSize:"16px"}})}),(0,e.jsx)(w.Z,{span:12,children:(0,e.jsx)(T.Z,{title:"\u6700\u9AD8\u4EF7(24h)",value:t.high24h,precision:2,prefix:"$",valueStyle:{fontSize:"18px"},style:{fontSize:"16px"}})})]})]})})},se=ie,le=function(s){var u=s.coinSymbol,m=s.isLoading,j=(0,i.useState)([]),S=A()(j,2),t=S[0],y=S[1],g=(0,i.useRef)(null),v=(0,i.useRef)([]);(0,i.useEffect)(function(){if(u){var l=new WebSocket("wss://stream.binance.com:9443/ws/".concat(u.toLowerCase(),"@trade"));return g.current=l,l.onmessage=function(o){try{var x=JSON.parse(o.data),a={id:x.t.toString(),price:parseFloat(x.p),amount:parseFloat(x.q),total:parseFloat(x.p)*parseFloat(x.q),direction:x.m?"sell":"buy",timestamp:new Date(x.T).toISOString()};v.current=[a].concat(I()(v.current)).slice(0,50),y(I()(v.current))}catch(n){console.error("Error parsing trade data:",n)}},l.onerror=function(o){console.error("WebSocket error:",o)},l.onclose=function(){console.log("WebSocket connection closed")},function(){g.current&&g.current.close()}}},[u]);var C=[{title:"\u65F6\u95F4",dataIndex:"timestamp",key:"timestamp",render:function(o){var x=new Date(o);return x.toLocaleTimeString()},style:{textAlign:"center"}},{title:"\u4EF7\u683C",dataIndex:"price",key:"price",render:function(o){return"$".concat(o.toFixed(2))},style:{textAlign:"center"}},{title:"\u6570\u91CF",dataIndex:"amount",key:"amount",render:function(o){return o.toFixed(4)},style:{textAlign:"center"}},{title:"\u603B\u989D",dataIndex:"total",key:"total",render:function(o){return"$".concat(o.toFixed(2))},style:{textAlign:"center"}},{title:"\u65B9\u5411",dataIndex:"direction",key:"direction",render:function(o){return(0,e.jsx)(H.Z,{color:o==="buy"?"green":"red",children:o==="buy"?"\u4E70\u5165":"\u5356\u51FA"})},style:{textAlign:"center"}}];return(0,e.jsxs)("div",{style:{borderRadius:"8px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.1)",overflow:"hidden",backgroundColor:"#fff",padding:"20px"},children:[(0,e.jsx)("h3",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"10px",color:"#333"},children:"\u5B9E\u65F6\u4EA4\u6613\u6570\u636E"}),m?(0,e.jsx)(U.Z,{active:!0,paragraph:{rows:5},style:{borderRadius:"8px"}}):t.length===0?(0,e.jsx)("div",{style:{fontSize:"16px",color:"#666",textAlign:"center",padding:"20px 0"},children:"\u7B49\u5F85\u4EA4\u6613\u6570\u636E..."}):(0,e.jsx)(N.Z,{dataSource:t,columns:C,rowKey:"id",pagination:!1,bordered:!1,style:{width:"100%"}})]})},ue=le,Se=r(75033),ce=r(15592),de=R.Z.Content,fe=R.Z.Footer,xe=function(){var s=(0,i.useState)(null),u=A()(s,2),m=u[0],j=u[1],S=(0,i.useState)(!0),t=A()(S,2),y=t[0],g=t[1];(0,i.useEffect)(function(){setTimeout(function(){g(!1)},1e3)},[]);var v=function(l){j(l)};return(0,e.jsxs)(R.Z,{style:{minHeight:"100vh",backgroundColor:"#f0f2f5"},children:[(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 20px",backgroundColor:"#ffffff",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:[(0,e.jsx)("h1",{style:{fontSize:"24px",fontWeight:"bold",color:"#333333"},children:"\u52A0\u5BC6\u8D27\u5E01\u6570\u636E\u8FFD\u8E2A"}),(0,e.jsx)(ce.NL,{})]}),(0,e.jsx)(de,{style:{padding:"20px",display:"flex",justifyContent:"center"},children:(0,e.jsx)(M.Z,{spinning:y,style:{width:"100%"},children:(0,e.jsxs)("div",{style:{display:"flex",gap:12,width:"100%"},children:[(0,e.jsx)(V,{isLoading:y,onSelect:v}),m&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",backgroundColor:"#ffffff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",height:"calc(100vh - 190px)",overflow:"auto"},children:[(0,e.jsx)("div",{style:{flex:1},children:(0,e.jsx)(ae,{coinSymbol:m,isLoading:y})}),(0,e.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:12},children:(0,e.jsx)(se,{coinSymbol:m,isLoading:y})})]}),(0,e.jsx)("div",{style:{flex:1,height:"calc(100vh - 190px)",overflow:"auto"},children:(0,e.jsx)(ue,{coinSymbol:m,isLoading:y})})]})]})})}),(0,e.jsxs)(fe,{style:{textAlign:"center",padding:"12px 0",backgroundColor:"#ffffff",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"},children:[(0,e.jsx)("p",{style:{color:"#666666",fontSize:"14px"},children:"coingecko\u9700\u8981\u4ED8\u8D39\u8D26\u53F7\uFF0C\u514D\u8D39\u8D26\u53F7\u4F1A\u88AB\u9650\u6D41\uFF0C\u6240\u4EE5\u76EE\u524D\u4F7F\u7528\u7684\u662F\u5E01\u5B89\u6570\u636E\u3002"}),(0,e.jsx)("p",{style:{color:"#666666",fontSize:"14px"},children:"\u4EA4\u6613\u529F\u80FD\u76F8\u5BF9\u4F1A\u7B80\u5355\uFF0C\u76F4\u63A5\u7528\u5E01\u5B89\u5C31\u53EF\u4EE5\uFF0C\u5F53\u7136\u5982\u679C\u662F\u505A\u5408\u7EA6\u7684\u8BDD\uFF0C\u76F4\u63A5\u7528web3\u5C31\u53EF\u4EE5\u4E86"}),(0,e.jsx)("p",{style:{color:"#666666",fontSize:"14px"},children:"\u6837\u5F0F\u6BD4\u8F83\u4E11\uFF0C\u65F6\u95F4\u7D27\u8FEB\u89C1\u8C05\u89C1\u8C05"})]})]})},pe=xe}}]);
