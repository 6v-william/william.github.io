"use strict";(self.webpackChunkpc_template=self.webpackChunkpc_template||[]).push([[9512],{29609:function(xe,G,n){n.r(G),n.d(G,{default:function(){return ye}});var J=n(57213),P=n.n(J),Q=n(25359),f=n.n(Q),W=n(49811),S=n.n(W),X=n(54306),k=n.n(X),g=n(79685),O=n(74906),Y=n(76158),q=n(84918),_=n(1285),ee=n(82918),R=function(a){return a>=1e9?(a/1e9).toFixed(1)+"B":a>=1e6?(a/1e6).toFixed(1)+"M":a>=1e3?(a/1e3).toFixed(1)+"K":a.toString()},e=n(63342),re=function(a){var i=a.coins,l=a.onSelect,h=a.livePrices,t=[{title:"\u6392\u540D",dataIndex:"market_cap_rank",key:"rank",width:80},{title:"\u540D\u79F0",dataIndex:"name",key:"name",render:function(d,c){return(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:4},children:[(0,e.jsx)("img",{src:c.image,alt:c.name,style:{width:16,height:16}}),(0,e.jsx)("p",{children:c.name}),(0,e.jsx)("p",{children:c.symbol.toUpperCase()})]})}},{title:"\u6D41\u901A\u4F9B\u5E94\u91CF",dataIndex:"circulating_supply",key:"circulating_supply",render:function(d){return R(d)}},{title:"\u4EF7\u683C",dataIndex:"current_price",key:"price",render:function(d,c){var s=h[c.id],p=(s==null?void 0:s.current_price)||c.current_price;return(0,e.jsxs)("div",{children:[s&&(0,e.jsx)("span",{}),"$",p.toLocaleString()]})}},{title:"24h\u53D8\u5316",dataIndex:"price_change_percentage_24h",key:"change",render:function(d,c){var s,p=((s=h[c.id])===null||s===void 0?void 0:s.price_change_percentage_24h)||c.price_change_percentage_24h,y=p>=0;return(0,e.jsxs)(q.Z,{color:y?"green":"red",children:[p.toFixed(2),"%"]})}},{title:"\u5E02\u503C",dataIndex:"market_cap",key:"market_cap",render:function(d,c){var s,p=((s=h[c.id])===null||s===void 0?void 0:s.market_cap)||c.market_cap;return"$".concat(R(p))}},{title:"24\u5C0F\u65F6\u4EA4\u6613\u91CF",dataIndex:"total_volume",key:"total_volume",render:function(d,c){var s,p=((s=h[c.id])===null||s===void 0?void 0:s.total_volume)||c.total_volume;return R(p)}},{title:"\u64CD\u4F5C",key:"action",render:function(d,c){return(0,e.jsx)(_.ZP,{type:"primary",onClick:function(){return l(c.id)},children:"\u8BE6\u60C5"})}}];return(0,e.jsx)(ee.Z,{style:{flex:1},dataSource:i,columns:t,rowKey:"id",pagination:!1,bordered:!1,tableLayout:"fixed"})},ae=re,K=n(98014),M=n(16459),te=n(49013),ne=n.n(te),ie=n(48068),se=n.n(ie),T="https://api.coingecko.com/api/v3",b={method:"GET",headers:{accept:"application/json"}},le=function(){var m=S()(f()().mark(function a(){var i,l,h=arguments;return f()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=h.length>0&&h[0]!==void 0?h[0]:10,r.next=3,fetch("".concat(T,"/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=").concat(i,"&page=1&sparkline=true&price_change_percentage=1h,24h,7d"),b);case 3:if(l=r.sent,l.ok){r.next=6;break}throw new Error("Failed to fetch top coins");case 6:return r.abrupt("return",l.json());case 7:case"end":return r.stop()}},a)}));return function(){return m.apply(this,arguments)}}(),ce=function(){var m=S()(f()().mark(function a(i){var l;return f()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(T,"/coins/").concat(i,"?localization=false&tickers=false&market_data=true&community_data=false&developer_data=false&sparkline=false"),b);case 2:if(l=t.sent,l.ok){t.next=5;break}throw new Error("Failed to fetch coin data");case 5:return t.abrupt("return",l.json());case 6:case"end":return t.stop()}},a)}));return function(i){return m.apply(this,arguments)}}(),ue=function(){var m=S()(f()().mark(function a(i){var l,h,t=arguments;return f()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return l=t.length>1&&t[1]!==void 0?t[1]:"7d",d.next=3,fetch("".concat(T,"/coins/").concat(i,"/ohlc?vs_currency=usd&days=").concat(l),b);case 3:if(h=d.sent,h.ok){d.next=6;break}throw new Error("Failed to fetch historical OHLC data");case 6:return d.abrupt("return",h.json());case 7:case"end":return d.stop()}},a)}));return function(i){return m.apply(this,arguments)}}(),oe=function(){var m=S()(f()().mark(function a(i){var l;return f()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(T,"/simple/price?ids=").concat(i,"&vs_currencies=usd&include_24hr_change=true"),b);case 2:if(l=t.sent,l.ok){t.next=5;break}throw new Error("Failed to fetch live price");case 5:return t.abrupt("return",l.json());case 6:case"end":return t.stop()}},a)}));return function(i){return m.apply(this,arguments)}}(),de=function(a){var i=a.coinId,l=a.coin,h=(0,g.useState)("7d"),t=k()(h,2),r=t[0],d=t[1],c=(0,g.useState)([]),s=k()(c,2),p=s[0],y=s[1],I=(0,g.useRef)(null),C=K.Z.Option,L=function(){var A=S()(f()().mark(function w(B){var F;return f()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,v.next=3,ue(i,B);case 3:F=v.sent,y(F),v.next=10;break;case 7:v.prev=7,v.t0=v.catch(0),console.error("Error fetching historical OHLC data:",v.t0);case 10:case"end":return v.stop()}},w,null,[[0,7]])}));return function(B){return A.apply(this,arguments)}}();(0,g.useEffect)(function(){L(r)},[i,r]);var E={chart:{type:"candlestick",height:400},title:{text:"".concat(l.name," \u4EF7\u683C\u56FE\u8868")},xAxis:{type:"datetime"},yAxis:{title:{text:"\u4EF7\u683C (USD)"}},tooltip:{shared:!0,useHTML:!0,headerFormat:"<small>{point.key}</small><table>",pointFormat:'<tr><td style="color: {series.color}">{series.name}: </td><td style="text-align: right"><b>${point.y:.2f}</b></td></tr>',footerFormat:"</table>",valueDecimals:2},series:[{name:"".concat(l.name),data:p}]},U=function(w){d(w)};return(0,e.jsx)(M.Z,{className:"bg-gray-800 text-white rounded-xl shadow-lg h-full",title:"".concat(l.name," \u4EF7\u683C\u56FE\u8868"),extra:(0,e.jsxs)(K.Z,{defaultValue:"7d",style:{width:120},onChange:U,children:[(0,e.jsx)(C,{value:"1d",children:"1\u5929"}),(0,e.jsx)(C,{value:"7d",children:"7\u5929"}),(0,e.jsx)(C,{value:"30d",children:"30\u5929"}),(0,e.jsx)(C,{value:"90d",children:"90\u5929"})]}),children:(0,e.jsx)("div",{className:"h-[400px]",children:p.length>0?(0,e.jsx)(se(),{highcharts:ne(),options:E,ref:I}):(0,e.jsx)("div",{className:"text-center py-16",children:"\u52A0\u8F7D\u56FE\u8868\u6570\u636E..."})})})},he=de,H=n(78491),Z=n(3129),D=n(76225),ve=function(a){var i=a.coin,l=i.name,h=i.symbol,t=i.image,r=i.market_data,d=r.current_price.usd,c=r.price_change_percentage_24h,s=r.price_change_percentage_7d,p=r.market_cap.usd,y=r.total_volume.usd,I=r.high_24h.usd,C=r.low_24h.usd;return(0,e.jsxs)(M.Z,{title:(0,e.jsxs)("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[(0,e.jsx)("img",{src:t.large,alt:l,style:{width:30,height:30}}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{children:l}),(0,e.jsx)("p",{children:h.toUpperCase()})]})]}),children:[(0,e.jsxs)(H.Z,{gutter:16,children:[(0,e.jsx)(Z.Z,{span:12,children:(0,e.jsx)(D.Z,{title:"\u5F53\u524D\u4EF7\u683C",value:d,precision:2,valueStyle:{color:"#3f8600"},prefix:"$"})}),(0,e.jsx)(Z.Z,{span:12,children:(0,e.jsx)(D.Z,{title:"24h\u53D8\u5316",value:c,precision:2,valueStyle:{color:c>=0?"#3f8600":"#cf1322"},suffix:"%"})})]}),(0,e.jsxs)(H.Z,{gutter:16,style:{marginTop:16},children:[(0,e.jsx)(Z.Z,{span:12,children:(0,e.jsx)(D.Z,{title:"7\u5929\u53D8\u5316",value:s,precision:2,valueStyle:{color:s>=0?"#3f8600":"#cf1322"},suffix:"%"})}),(0,e.jsx)(Z.Z,{span:12,children:(0,e.jsx)(D.Z,{title:"\u5E02\u503C",value:p,formatter:function(E){return"$".concat(E.toLocaleString("en-US"))}})})]}),(0,e.jsxs)(H.Z,{gutter:16,style:{marginTop:16},children:[(0,e.jsx)(Z.Z,{span:12,children:(0,e.jsx)(D.Z,{title:"24h\u4EA4\u6613\u91CF",value:y,formatter:function(E){return"$".concat(E.toLocaleString("en-US"))}})}),(0,e.jsx)(Z.Z,{span:12,children:(0,e.jsx)(D.Z,{title:"\u6700\u9AD8\u4EF7(24h)",value:I,precision:2,prefix:"$"})})]}),(0,e.jsx)(H.Z,{gutter:16,style:{marginTop:16},children:(0,e.jsx)(Z.Z,{span:12,children:(0,e.jsx)(D.Z,{title:"\u6700\u4F4E\u4EF7(24h)",value:C,precision:2,prefix:"$"})})})]})},fe=ve,Ce=n(75033),pe=n(15592),me=O.Z.Content,ge=O.Z.Footer;function je(){var m=(0,g.useState)([]),a=k()(m,2),i=a[0],l=a[1],h=(0,g.useState)(null),t=k()(h,2),r=t[0],d=t[1],c=(0,g.useState)(!0),s=k()(c,2),p=s[0],y=s[1],I=(0,g.useState)({}),C=k()(I,2),L=C[0],E=C[1],U=(0,g.useState)(null),A=k()(U,2),w=A[0],B=A[1],F=(0,g.useRef)(null);(0,g.useEffect)(function(){var v=function(){var $=S()(f()().mark(function j(){var x,N;return f()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,le(2);case 3:x=o.sent,l(x),N={},x.forEach(function(z){N[z.id]=z}),E(N),y(!1),o.next=15;break;case 11:o.prev=11,o.t0=o.catch(0),console.error("Error fetching top coins:",o.t0),y(!1);case 15:case"end":return o.stop()}},j,null,[[0,11]])}));return function(){return $.apply(this,arguments)}}();v()},[]),(0,g.useEffect)(function(){if(i.length!==0)return F.current&&clearInterval(F.current),F.current=setInterval(S()(f()().mark(function v(){var $,j,x;return f()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,$=i.map(function(o){return o.id}).join(","),u.next=4,oe($);case 4:j=u.sent,x={},i.forEach(function(o){j[o.id]&&(x[o.id]=j[o.id])}),E(function(o){return P()(P()({},o),x)}),r&&j[r.id]&&B(function(o){return P()(P()({},o),{},{market_data:P()(P()({},o.market_data),{},{current_price:{usd:j[r.id].usd},price_change_percentage_24h:j[r.id].usd_24h_change})})}),u.next=14;break;case 11:u.prev=11,u.t0=u.catch(0),console.error("Error fetching live prices:",u.t0);case 14:case"end":return u.stop()}},v,null,[[0,11]])})),3e4),function(){F.current&&clearInterval(F.current)}},[i,r]);var V=function(){var v=S()(f()().mark(function $(j){var x;return f()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return y(!0),u.prev=1,u.next=4,ce(j);case 4:x=u.sent,d(x),B(x),y(!1),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(1),console.error("Error fetching coin data:",u.t0),y(!1);case 14:case"end":return u.stop()}},$,null,[[1,10]])}));return function(j){return v.apply(this,arguments)}}();return(0,e.jsxs)(O.Z,{className:"min-h-screen bg-gray-900 text-white",children:[(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 20px"},children:[(0,e.jsx)("h1",{className:"text-3xl font-bold",children:"\u7B80\u6613\u52A0\u5BC6\u8D27\u5E01\u6570\u636E\u8FFD\u8E2A"}),(0,e.jsx)(pe.NL,{})]}),(0,e.jsx)(me,{className:"container mx-auto px-4 py-8",children:(0,e.jsxs)(Y.Z,{spinning:p,children:[(0,e.jsx)(ae,{coins:i,onSelect:V,livePrices:L}),r&&(0,e.jsxs)("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,e.jsx)("div",{className:"lg:col-span-1",children:(0,e.jsx)(fe,{coin:w||r})}),(0,e.jsx)("div",{className:"lg:col-span-2",children:(0,e.jsx)(he,{coinId:r.id,coin:r})})]})]})}),(0,e.jsx)(ge,{className:"bg-gray-800 py-4 mt-12 text-center",children:(0,e.jsx)("p",{children:"\u65F6\u95F4\u6709\u9650\uFF0C\u4E4B\u524D\u6CA1\u73A9\u8FC7\u5C0F\u4EE3\u5E01\uFF0C\u53EA\u662F\u968F\u4FBF\u586B\u5199\u4E00\u4E9B\u5B57\u6BB5\u4E0A\u53BB"})})]})}var ye=je}}]);
